{% extends "CoobixAdminBundle:Default:new.html.twig" %}


{% block breadcrumb_in %}

{% endblock breadcrumb_in %} 

{% block module_tit %}
Reservar Pedido de Productos/Insumos a Stock
{% endblock module_tit %}


{% block list_path %}
	{{ path('solicitudmovimiento') }}
{% endblock list_path %}

{% block form_content %}
	{% block errorMsj %}{% endblock errorMsj %}
	<form novalidate action="{% block update_path %}{{ path('solicitudmovimiento_update', { 'id': entity.id }) }}{% endblock update_path %}" method="post" {{ form_enctype(edit_form) }}>
		{% form_theme edit_form 'CoobixAdminBundle:Form:Fields.html.twig' %}
		

		{{ form_widget(edit_form) }}
		
		<div class="form_row" id="div_pedido_numero">
			<label class=" required" for="pedido_numero">Pedido</label>
			<div>{{ entity.pedido }}</div>
		</div>
		
		<div class="form_row" id="div_pedido_numero">
			<label class=" required" for="pedido_numero">Estado</label>
			<div>{{ entity.estadoNombre }}</div>
		</div>
		
		<div class="form_row" id="div_pedido_numero">
			<label class=" required" for="pedido_numero">Fecha y hora requerido</label>
			<div>{{ entity.fechaHoraRequerido | date('d/m/Y H:i') }}</div>
		</div>
		
		<div class="form_row" id="div_pedido_numero">
			<label class=" required" for="pedido_numero">Observaci√≥n</label>
			<div>{{ entity.observacion }}</div>
		</div>
		
		<div  class="form_row">
			
				<label class=" required" >Productos/Insumos</label>
				<div class="field_widget">
				
					<table style="width: 600px;"  class="field_widget_productos" id="tableListProductos">
						<tr>
							<th width="300">Nombre</th>
							<th>Cant. Solicitada</th>
							<th>Cant. Reservada</th>
						</tr>
						{% set i=0 %}
						{% for elemento in entity.solicitudMovimientoElemento %}
							<tr>
								<td >{{ elemento.elemento.nombre }}</td>
								<td >{{ elemento.cantidadSolicitada }} {{ elemento.elemento.unidad }}</td>
								<td ><input type="text" value="{{ elemento.cantidadReservada }}"  name="form[solicitudMovimientoElementoCantidadReservada][{{ elemento.id }}]" /> {{ elemento.elemento.unidad }}</td>
								{% set i=i+1 %}
							</tr>
						{%else%}
							<tr>
								<td colspan="2">No hay productos y/o insumos</td>
							</tr>
						{%endfor%}						
					</table>
					
				</div>
				
			</div>
		
		
		
		<p>
			<button class="btn_green_button right" id="btnGuardarCambios" type="submit">Guardar cambios</button>
		</p>
	</form>
		
		
	<div class="fix"></div>
{% endblock form_content %}

{% block javascript_extra %}
	<script type="text/javascript" src="{{ asset('bundles/stock/js/solicitudmovimiento.js') }}" /></script>
	<script type="text/javascript">
		$(window).ready(function(){
			$('#productos_insumos').val('');
			$('#producto_productos').val('');			
		});	
	</script>
	
{% endblock javascript_extra %}