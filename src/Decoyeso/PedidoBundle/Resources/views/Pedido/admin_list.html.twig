{% extends "CoobixAdminBundle:Default:list.html.twig" %}


{% block module_tit %}
Listado de Pedidos
{% endblock module_tit %}

{% block list_tits %}

{% set widthCols =  85/6  %}
<th style="width: {{ widthCols }}%" {% if entities.isSorted('p.numero') %} class="sorted" {% endif %}>{{ entities.sortable('NÃºmero', 'p.numero')|raw }}</th>
<th style="width: {{ widthCols }}%"{% if entities.isSorted('c.nombre') %} class="sorted" {% endif %}>{{ entities.sortable('Cliente', 'c.nombre')|raw }}</th>
<th style="width: {{ widthCols }}%"{% if entities.isSorted('p.nombre') %} class="sorted" {% endif %}>{{ entities.sortable('Nombre', 'p.nombre')|raw }}</th>
<th align="center" style="width: {{ widthCols }}%"{% if entities.isSorted('p.fechaEntrega') %} class="sorted" {% endif %}>{{ entities.sortable('Entregar el', 'p.fechaEntrega')|raw }}</th>
<th align="center" style="width: {{ widthCols }}%"{% if entities.isSorted('p.prioridad') %} class="sorted" {% endif %}>{{ entities.sortable('Prioridad', 'p.prioridad')|raw }}</th>
<th align="center" style="width: {{ widthCols }}%"{% if entities.isSorted('p.estado') %} class="sorted" {% endif %}>{{ entities.sortable('Estado', 'p.estado')|raw }}</th>


{% endblock list_tits %}

{% block list_item_texts %}

<td ><a href="{{ path('pedido_edit', { 'id': entity.id }) }}">{{ entity.numero }}</a></td>
<td ><a href="{{ path('pedido_edit', { 'id': entity.id }) }}">{{ entity.getCliente }}</a></td>
<td ><a href="{{ path('pedido_edit', { 'id': entity.id }) }}">{{ entity.nombre }}</a></td>
<td align="center" ><a href="{{ path('pedido_edit', { 'id': entity.id }) }}"> {{ entity.fechaEntrega | date('d/m/Y') }}</a></td>
<td align="center"><a href="{{ path('pedido_edit', { 'id': entity.id }) }}" >{{entity.prioridadNombre}}</a></td>
<td align="center"><a href="{{ path('pedido_edit', { 'id': entity.id }) }}">{{ entity.estadoNombre }}</a></td>
{% endblock list_item_texts %}




{%block FormBuscar%}
	<form method="post" action="{{path('pedido',{pararouting:"buscar"})}}" novalidate="true">
{%endblock%}

{%block camposFormBuscar%}
	<div id="formBuscar">
		
		{{form_row(formBuscar._token)}}
		{{form_row(formBuscar.p_numero)}}
		{{form_row(formBuscar.p_nombre)}}

		{{form_row(formBuscar.p_requiereRelevamiento)}}		
		{{form_row(formBuscar.p_prioridad)}}
		{{form_row(formBuscar.p_estado)}}
		{{form_row(formBuscar.p_fechaSolicitado)}}
		{{form_row(formBuscar.p_fechaEntrega)}}
		
		{{form_row(formBuscar.c_nombre)}}
		{{form_row(formBuscar.c_numero)}}
		{{form_row(formBuscar.c_dni)}}
		{{form_row(formBuscar.c_cuitOcuil)}}
	</div>
{%endblock%}

{% block menuOpciones%}	{% endblock menuOpciones%}

{% block new_path %} 
{{ path('pedido_new') }}
{% endblock new_path %}

{% block edit_path %} 
{{ path('pedido_edit', { 'id': entity.id }) }} 
{% endblock edit_path %}

{% block delete_path %}
{{ path('pedido_delete', { 'id': entity.id }) }}
{% endblock delete_path %}

{% block list_delete %}
{% render "PedidoBundle:Pedido:listDeleteform" with {'id': entity.id}  %}
{% endblock list_delete %}





